"""
This type stub file was generated by pyright.
"""

import torch
from typing import Optional

class _FreeEventQueue:
    """
    This tracks all pending frees corresponding to inflight all-gathers. The
    queueing pattern is iterative enqueues with a single dequeue per iteration
    once the limit ``_max_num_inflight_all_gathers`` is reached.
    """
    def __init__(self) -> None:
        ...
    
    def enqueue(self, free_event: torch.Event) -> None:
        """Enqueues a free event."""
        ...
    
    def dequeue_if_needed(self) -> Optional[torch.Event]:
        """Dequeues a single event if the limit is reached."""
        ...
    


